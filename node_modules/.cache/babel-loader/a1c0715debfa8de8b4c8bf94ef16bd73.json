{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\taichi\\\\MyWebApp\\\\buy-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\taichi\\\\MyWebApp\\\\buy-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\taichi\\\\MyWebApp\\\\buy-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\taichi\\\\MyWebApp\\\\buy-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\taichi\\\\MyWebApp\\\\buy-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Tab from\"./components/tab\";import BuyLists from\"./components/buylists\";import Fridge from\"./components/fridge\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.activeTab=function(tabId){var tabs=_toConsumableArray(_this.state.tabs);tabs.map(function(tab){tab.active=tab.id===tabId;});_this.setState({tabs:tabs});};_this.toggleSelect=function(listId){var lists=_toConsumableArray(_this.state.lists);lists.map(function(list){list.selected=list.id===listId?!list.selected:list.selected;});_this.setState({lists:lists});};_this.addItem=function(e){e.preventDefault();if(_this.state.item.trim()===\"\"){return;}var item={id:_this.getUniqueId(),name:_this.state.item,selected:false};var lists=_toConsumableArray(_this.state.lists);lists.push(item);_this.setState({lists:lists,item:\"\"});};_this.handleChange=function(e){_this.setState({item:e.target.value});};_this.deleteItem=function(item){var lists=_toConsumableArray(_this.state.lists);lists.splice(lists.indexOf(item),1);_this.setState({lists:lists});};_this.deleteAll=function(){var ans=window.confirm(\"Clear all unselected lists?\");if(!ans){return;}else{var lists=_toConsumableArray(_this.state.lists);var lists_new=lists.filter(function(list){return list.selected;});_this.setState({lists:lists_new});}};_this.toFridge=function(){var lists=_toConsumableArray(_this.state.lists);var stocks=_toConsumableArray(_this.state.stocks);var lists_new=lists.filter(function(list){return!list.selected;});var stocks_add=lists.filter(function(list){return list.selected;});stocks_add.map(function(stock){stocks.push({id:_this.getUniqueId(),name:stock.name,date:_this.myDate()});});_this.setState({lists:lists_new,stocks:stocks});};_this.eatStocks=function(stock){var stocks=_toConsumableArray(_this.state.stocks);stocks.splice(stocks.indexOf(stock),1);_this.setState({stocks:stocks});};_this.state={tabs:[{id:1,name:\"Lists\",active:true,comp:BuyLists},{id:2,name:\"Stocks\",active:false,comp:Fridge}],item:\"\",lists:[],stocks:[]};return _this;}_createClass(App,[{key:\"getUniqueId\",value:function getUniqueId(){return new Date().getTime().toString(36)+\"-\"+Math.random().toString(36);}},{key:\"myDate\",value:function myDate(){var now=new Date();return\"\".concat(now.getFullYear(),\"/\").concat(now.getMonth()+1,\"/\").concat(now.getDate());}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){localStorage.setItem('lists',JSON.stringify(this.state.lists));localStorage.setItem('stocks',JSON.stringify(this.state.stocks));}},{key:\"componentDidMount\",value:function componentDidMount(){this.setState({lists:JSON.parse(localStorage.getItem('lists'))||[],stocks:JSON.parse(localStorage.getItem('stocks'))||[]});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Tab,{tabs:this.state.tabs,activeTab:this.activeTab,lists:this.state.lists,stocks:this.state.stocks,toggleSelect:this.toggleSelect,addItem:this.addItem,item:this.state.item,handleChange:this.handleChange,deleteItem:this.deleteItem,deleteAll:this.deleteAll,toFridge:this.toFridge,eatStocks:this.eatStocks}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/taichi/MyWebApp/buy-app/src/App.js"],"names":["React","Component","Tab","BuyLists","Fridge","App","activeTab","tabId","tabs","state","map","tab","active","id","setState","toggleSelect","listId","lists","list","selected","addItem","e","preventDefault","item","trim","getUniqueId","name","push","handleChange","target","value","deleteItem","splice","indexOf","deleteAll","ans","window","confirm","lists_new","filter","toFridge","stocks","stocks_add","stock","date","myDate","eatStocks","comp","Date","getTime","toString","Math","random","now","getFullYear","getMonth","getDate","localStorage","setItem","JSON","stringify","parse","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Tab from \"./components/tab\";\r\nimport BuyLists from \"./components/buylists\";\r\nimport Fridge from \"./components/fridge\";\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      tabs: [\r\n        { id: 1, name: \"Lists\", active: true, comp: BuyLists },\r\n        { id: 2, name: \"Stocks\", active: false, comp: Fridge },\r\n      ],\r\n      item: \"\",\r\n      lists: [],\r\n      stocks: [],\r\n    };\r\n  }\r\n\r\n  activeTab = (tabId) => {\r\n    const tabs = [...this.state.tabs];\r\n    tabs.map((tab) => {\r\n      tab.active = tab.id === tabId;\r\n    });\r\n    this.setState({ tabs: tabs });\r\n  };\r\n  toggleSelect = (listId) => {\r\n    const lists = [...this.state.lists];\r\n    lists.map((list) => {\r\n      list.selected = list.id === listId ? !list.selected : list.selected;\r\n    });\r\n    this.setState({ lists: lists });\r\n  };\r\n  addItem = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.item.trim() === \"\") {\r\n      return;\r\n    }\r\n    const item = {\r\n      id: this.getUniqueId(),\r\n      name: this.state.item,\r\n      selected: false,\r\n    };\r\n    const lists = [...this.state.lists];\r\n    lists.push(item);\r\n    this.setState({ lists: lists, item: \"\" });\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({ item: e.target.value });\r\n  };\r\n  deleteItem = (item) => {\r\n    const lists = [...this.state.lists];\r\n    lists.splice(lists.indexOf(item), 1);\r\n    this.setState({ lists: lists });\r\n  };\r\n  deleteAll = () => {\r\n    let ans = window.confirm(\"Clear all unselected lists?\");\r\n    if (!ans) {\r\n      return;\r\n    } else {\r\n      const lists = [...this.state.lists];\r\n      const lists_new = lists.filter((list) => list.selected);\r\n      this.setState({ lists: lists_new });\r\n    }\r\n  };\r\n  toFridge = () => {\r\n    const lists = [...this.state.lists];\r\n    let stocks = [...this.state.stocks];\r\n    const lists_new = lists.filter((list) => !list.selected);\r\n    const stocks_add = lists.filter((list) => list.selected);\r\n    stocks_add.map((stock) => {\r\n      stocks.push({\r\n        id: this.getUniqueId(),\r\n        name: stock.name,\r\n        date: this.myDate(),\r\n      });\r\n    });\r\n    this.setState({ lists: lists_new, stocks: stocks });\r\n  };\r\n  eatStocks = (stock) => {\r\n    const stocks = [...this.state.stocks];\r\n    stocks.splice(stocks.indexOf(stock), 1);\r\n    this.setState({ stocks: stocks });\r\n  };\r\n  getUniqueId() {\r\n    return new Date().getTime().toString(36) + \"-\" + Math.random().toString(36);\r\n  }\r\n  myDate() {\r\n    let now = new Date();\r\n    return `${now.getFullYear()}/${now.getMonth() + 1}/${now.getDate()}`;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    localStorage.setItem('lists', JSON.stringify(this.state.lists));\r\n    localStorage.setItem('stocks', JSON.stringify(this.state.stocks));\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      lists: JSON.parse(localStorage.getItem('lists')) || [],\r\n      stocks: JSON.parse(localStorage.getItem('stocks')) || []\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Tab\r\n          tabs={this.state.tabs}\r\n          activeTab={this.activeTab}\r\n          lists={this.state.lists}\r\n          stocks={this.state.stocks}\r\n          toggleSelect={this.toggleSelect}\r\n          addItem={this.addItem}\r\n          item={this.state.item}\r\n          handleChange={this.handleChange}\r\n          deleteItem={this.deleteItem}\r\n          deleteAll={this.deleteAll}\r\n          toFridge={this.toFridge}\r\n          eatStocks={this.eatStocks}\r\n        ></Tab>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}